<html>

<head>
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>
    <script>
        // console.log('d3 test', d3);
        // d3.json('data/gene.json', function(data) {

        //     const geneData = JSON.parse(data)
        //         // console.log('sdaasdasda', geneData)
        // })

        let request = new Request('http://localhost:3000/data/gene.json', {
            headers: new Headers({
                'Content-Type': 'text/json'
            }),
            method: 'GET'
        });

        fetch(request).then((response) => {
            console.log(response);
            response.json().then((data) => {
                console.log(data);

                const geneData = [];
                for (let i = 0; i < data.length; i++) {
                    const angle = Number(data[i].end) - Number(data[i].start)
                    console.log(angle)
                    geneData.push(angle)
                }
                console.log('geneeeee', geneData)

                const width = 700,
                    height = 700,
                    margin = {
                        top: 50,
                        right: 50,
                        bottom: 50,
                        left: 50
                    }

                const svg = d3.select("body").append('svg')
                    .style('width', width)
                    .style('height', height)
                    // .style('margin-top', margin.top)
                    .style('margin-right', margin.right)
                    .style('margin-bottem', margin.bottom)
                    .style('margin-left', margin.left)

                const chord = d3.chord()
                    .padAngle(0.05)
                    .sortSubgroups(d3.descending)

                const arc = d3.arc()
                    .innerRadius(270)
                    .outerRadius(290)

                const ribbon = d3.ribbon()
                    .radius(270)
            });
        });
    </script>
</body>

</html>